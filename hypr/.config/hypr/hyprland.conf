
#  ██╗  ██╗██╗   ██╗██████╗ ██████╗ ██╗      █████╗ ███╗   ██╗██████╗ 
#  ██║  ██║╚██╗ ██╔╝██╔══██╗██╔══██╗██║     ██╔══██╗████╗  ██║██╔══██╗
#  ███████║ ╚████╔╝ ██████╔╝██████╔╝██║     ███████║██╔██╗ ██║██║  ██║
#  ██╔══██║  ╚██╔╝  ██╔═══╝ ██╔══██╗██║     ██╔══██║██║╚██╗██║██║  ██║
#  ██║  ██║   ██║   ██║     ██║  ██║███████╗██║  ██║██║ ╚████║██████╔╝
#  ╚═╝  ╚═╝   ╚═╝   ╚═╝     ╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝╚═╝  ╚═══╝╚═════╝ 
#                                                                     
#############
### PATHS ###
#############
$home = /home/USER
$scripts = $home/Documents/github-uphill/bash-scripts/scripts

################
### MONITORS ###
################

# See https://wiki.hyprland.org/Configuring/Monitors/
env = WLR_DRM_DEVICES,/dev/dri/card1:/dev/dri/card0
env = __NV_PRIME_RENDER_OFFLOAD,1
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = __VK_LAYER_NV_optimus,NVIDIA_only

monitor=eDP-1,2560x1600@240,317x1080,1.6  # Laptop screen, adjusted position
monitor=HDMI-A-1,2560x1440@143.97,1920x0,1,vrr,1  # Gigabyte gaming monitor
monitor=desc:HP Inc. HP Z22n G2 6CM8411J22,1920x1080@75,4480x0,1,transform,3  # Right-most vertical monitor
monitor=desc:HP Inc. HP Z22n G2 6CM8411J1Z,1920x1080@60,0x0,1  # Left-most monitor

###################
### MY PROGRAMS ###
###################

# See https://wiki.hyprland.org/Configuring/Keywords/
$terminal = kitty
$fileManager = dolphin
$menu = wofi --show drun --prompt "Search applications..."
$display = wdisplays

#################
### AUTOSTART ###
#################

# Autostart necessary processes (like notifications daemons, status bars, etc.)
exec-once = hyprpanel & hyprpaper & hypridle
exec-once = $home/.config/hypr/hyprpaper.sh
exec-once = easyeffects --gapplication-service &
exec-once = udiskie
exec-once = wl-paste --type text --watch cliphist store #Stores only text data
exec-once = wl-paste --type image --watch cliphist store #Stores only image data

#############################
### ENVIRONMENT VARIABLES ###
#############################

# See https://wiki.hyprland.org/Configuring/Environment-variables/
# env = AQ_DRM_DEVICES,/dev/dri/card1:/dev/dri/card1
# env = LIBVA_DRIVER_NAME,nvidia
# env = GBM_BACKEND,nvidia-drm
# env = __GLX_VENDOR_LIBRARY_NAME,nvidia

#####################
### LOOK AND FEEL ###
#####################
# Refer to https://wiki.hyprland.org/Configuring/Variables/

# https://wiki.hyprland.org/Configuring/Variables/#general

general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2
    # https://wiki.hyprland.org/Configuring/Variables/#variable-types for info about colors
    col.active_border = rgba(0A7ACEff)
    col.inactive_border = rgba(4C566Aff)

    resize_on_border = false   # Set to true enable resizing windows by clicking and dragging on borders and gaps
    allow_tearing = false   # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
    layout = dwindle
}
# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    rounding = 10
    rounding_power = 2

    # Change transparency of focused and unfocused windows
    active_opacity = 1.0
    inactive_opacity = 1.0

    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }

    # https://wiki.hyprland.org/Configuring/Variables/#blur
    blur {
        enabled = true
        size = 3
        passes = 1
        vibrancy = 0.1696
    }
}

# https://wiki.hyprland.org/Configuring/Variables/#animations
animations {
  enabled = true
  bezier = overshot, 0.13, 0.99, 0.29, 1.1
  animation = workspaces, 1, 6, overshot, slide
  animation = windows,1,4,overshot,slide
  animation = layers,1,5,default,default
}

# Application specific rules
layerrule = animation slide top, wofi
layerrule = animation fade, hyprpaper
layerrule = animation fade, selection
layerrule = animation slide right, notificationsmenu
layerrule = animation slide left, dashboardmenu

# Ref https://wiki.hyprland.org/Configuring/Workspace-Rules/
# "Smart gaps" / "No gaps when only"
# uncomment all if you wish to use that.
# workspace = w[tv1], gapsout:0, gapsin:0
# workspace = f[1], gapsout:0, gapsin:0
# windowrulev2 = bordersize 0, floating:0, onworkspace:w[tv1]
# windowrulev2 = rounding 0, floating:0, onworkspace:w[tv1]
# windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
# windowrulev2 = rounding 0, floating:0, onworkspace:f[1]

# See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
dwindle {
  pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
  preserve_split = true # You probably want this
}

# See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
master {
  new_status = master
}

# https://wiki.hyprland.org/Configuring/Variables/#misc
misc {
  force_default_wallpaper = -1
  disable_hyprland_logo = true
  animate_manual_resizes = true
}

#############
### INPUT ###
#############

# https://wiki.hyprland.org/Configuring/Variables/#input
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.

    touchpad {
        natural_scroll = false
    }
}

# https://wiki.hyprland.org/Configuring/Variables/#gestures
gestures {
    workspace_swipe = false
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#per-device-input-configs for more
device {
    name = epic-mouse-v1
    sensitivity = -0.5
}

cursor {
  no_hardware_cursors = true
}

###################
### KEYBINDINGS ###
###################
$leader = SUPER

# Basic commands
bindd = $leader, Q, Open Keybind Select Menu, exec, '$scripts/hyprkeys.sh'
bindd = $leader, C, Close active window, killactive,
bindd = $leader, V, Toggle floating mode, togglefloating,
# bindd = $leader, P, Toggle pseudo mode (dwindle layout), pseudo,
bindd = $leader, J, Toggle split mode (dwindle layout), togglesplit,
bindd = $leader, F, Toggle fullscreen, fullscreen
bindd = $leader, R, Restart HyprPanel, exec, hyprpanel restart
bindd = $leader+SHIFT, R, Reload HyprLand, exec, hyprtctl reload
bindd = $leader+SHIFT, V, Clipboard History, exec, bash -c "cliphist list | wofi --dmenu -p 'Search clipboard history...' | cliphist decode | wl-copy"

# Application Shortcuts
bindd = $leader, SPACE, Open application launcher, exec, $menu
bindd = $leader+SHIFT, SPACE, Run a script in PATH, exec, wofi --show run -p "Run a script..." -i
bindd = $leader+SHIFT, F, Fuzzy File Search, exec, '$scripts/fuzzy_search.sh'
bindd = $leader, RETURN, Open terminal, exec, $terminal
bindd = $leader+SHIFT, RETURN, Toggle dropdown terminal, exec, bash -c 'pgrep -fx "$terminal --class float" && pkill -9 -fx "$terminal --class float" || $terminal --class float'
bindd = $leader, U, Launch display manager, exec, $display
bindd = $leader, E, Open file manager, exec, $fileManager
bindd = $leader, B, Launch Firefox, exec, firefox
bindd = $leader, T, Launch Thunderbird, exec, flatpak run org.mozilla.Thunderbird
bindd = $leader, M, Launch calculator, exec, qalculate-gtk
bindd = $leader, ESCAPE, Lock screen, exec, hyprlock
bindd = CONTROL+SHIFT, ESCAPE, Open task manager, exec, $terminal -e btop
bindd = $leader, Tab, Open HyprPanel dashboard, exec, hyprpanel t dashboardmenu
bindd = $leader, N, Open NeoVim, exec, $terminal -e nvim
bindd = $leader, O, Open Obsidian, exec, flatpak run md.obsidian.Obsidian
bindd = $leader+SHIFT, N, Open Kate text editor, exec, kate
bindd = $leader, I, Open Slack, exec, slack

# Focus Movement
bindd = $leader, Left, Move focus left, movefocus, l
bindd = $leader, Right, Move focus right, movefocus, r
bindd = $leader, Up, Move focus up, movefocus, u
bindd = $leader, Down, Move focus down, movefocus, d
bindd = $leader, h, Move focus left (vim-style), movefocus, l
bindd = $leader, l, Move focus right (vim-style), movefocus, r
bindd = $leader, k, Move focus up (vim-style), movefocus, u
bindd = $leader, j, Move focus down (vim-style), movefocus, d

# Move Windows
bindd = $leader+SHIFT, Left, Move window left, movewindow, l
bindd = $leader+SHIFT, Right, Move window right, movewindow, r
bindd = $leader+SHIFT, Up, Move window up, movewindow, u
bindd = $leader+SHIFT, Down, Move window down, movewindow, d
bindd = $leader+SHIFT, h, Move window left (vim-style), movewindow, l
bindd = $leader+SHIFT, l, Move window right (vim-style), movewindow, r
bindd = $leader+SHIFT, k, Move window up (vim-style), movewindow, u
bindd = $leader+SHIFT, j, Move window down (vim-style), movewindow, d

# Pick Color
# bindd = $leader+SHIFT, p, Pick color from screen, exec, hyprpicker
bindd = $leader, p, Pick color from screen, exec, hyprpicker

# Move Windows Between Monitors
bindd = $leader+CTRL, 1, Move window to monitor 1, movewindow, mon:0
bindd = $leader+CTRL, 2, Move window to monitor 2, movewindow, mon:1
bindd = $leader+CTRL, 3, Move window to monitor 3, movewindow, mon:2
bindd = $leader+CTRL, 4, Move window to monitor 4, movewindow, mon:3

# Workspace Navigation
bindd = $leader, 1, Switch to workspace 1, workspace, 1
bindd = $leader, 2, Switch to workspace 2, workspace, 2
bindd = $leader, 3, Switch to workspace 3, workspace, 3
bindd = $leader, 4, Switch to workspace 4, workspace, 4
bindd = $leader, 5, Switch to workspace 5, workspace, 5
bindd = $leader, 6, Switch to workspace 6, workspace, 6
bindd = $leader, 7, Switch to workspace 7, workspace, 7
bindd = $leader, 8, Switch to workspace 8, workspace, 8
bindd = $leader, 9, Switch to workspace 9, workspace, 9
bindd = $leader, 0, Switch to workspace 10, workspace, 10

# Move Windows to Workspaces
bindd = $leader+SHIFT, 1, Move window to workspace 1, movetoworkspace, 1
bindd = $leader+SHIFT, 2, Move window to workspace 2, movetoworkspace, 2
bindd = $leader+SHIFT, 3, Move window to workspace 3, movetoworkspace, 3
bindd = $leader+SHIFT, 4, Move window to workspace 4, movetoworkspace, 4
bindd = $leader+SHIFT, 5, Move window to workspace 5, movetoworkspace, 5
bindd = $leader+SHIFT, 6, Move window to workspace 6, movetoworkspace, 6
bindd = $leader+SHIFT, 7, Move window to workspace 7, movetoworkspace, 7
bindd = $leader+SHIFT, 8, Move window to workspace 8, movetoworkspace, 8
bindd = $leader+SHIFT, 9, Move window to workspace 9, movetoworkspace, 9
bindd = $leader+SHIFT, 0, Move window to workspace 10, movetoworkspace, 10

# Screenshots
bindd = , Print, Take screenshot of window, exec, hyprshot -m window -o ~/Pictures/Screenshots
bindd = SHIFT, Print, Take screenshot of region, exec, hyprshot -m region -o ~/Pictures/Screenshots
bindd = $leader+SHIFT, Print, Take screenshot and copy to clipboard, exec, hyprshot -m region --clipboard-only

# Scratchpad
bindd = $leader, S, Toggle scratchpad, togglespecialworkspace, magic
bindd = $leader+SHIFT, S, Move window to scratchpad, movetoworkspace, special:magic

# Scroll Through Workspaces
bindd = $leader, mouse_down, Switch to next workspace, workspace, e+1
bindd = $leader, mouse_up, Switch to previous workspace, workspace, e-1

# Move/Resize Windows with Mouse
binddm = $leader, mouse:272, Drag to move window, movewindow
binddm = $leader, mouse:273, Drag to resize window, resizewindow

# Volume and Brightness
binddel = ,XF86AudioRaiseVolume, Increase volume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
binddel = ,XF86AudioLowerVolume, Decrease volume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
binddel = ,XF86AudioMute, Toggle mute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
binddel = ,XF86AudioMicMute, Toggle mic mute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
binddel = ,XF86MonBrightnessUp, Increase brightness, exec, brightnessctl s 10%+
binddel = ,XF86MonBrightnessDown, Decrease brightness, exec, brightnessctl s 10%-

# Media Controls
bindd = $leader+ALT, h, Previous track, exec, playerctl previous
bindd = $leader+ALT, l, Next track, exec, playerctl next
bindd = $leader+ALT, SPACE, Play/Pause media, exec, playerctl play-pause

# Media Keys (Requires playerctl)
binddl = , XF86AudioNext, Next track, exec, playerctl next
binddl = , XF86AudioPause, Play/Pause media, exec, playerctl play-pause
binddl = , XF86AudioPlay, Play/Pause media, exec, playerctl play-pause
binddl = , XF86AudioPrev, Previous track, exec, playerctl previous


##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules

# Ignore maximize requests from apps. You'll probably like this.
windowrulev2 = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrulev2 = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# Floating windows
windowrulev2 = float, class:^(float)$
windowrulev2 = size 80% 60%, class:^(float)$

exec = sleep 5 && hyprctl reload
