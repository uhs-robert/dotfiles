# hypr/.config/hypr/config/keymaps.conf
###################
### KEYBINDINGS ###
###################
$leader = SUPER

# Basic commands
bindd = $leader, Q, Open Keybind Select Menu, exec, ~/.config/hypr/scripts/keybind-help-launcher.sh
bindd = $leader+CTRL, Q, Edit Keybinds, exec, $terminal -e nvim ~/.config/hypr/config/keymaps.conf
bindd = $leader, T, Change theme, exec, ~/.config/hypr/theme/main.lua --menu
bindd = $leader, C, Close active window, killactive,
bindd = $leader, V, Toggle floating mode, togglefloating,
# bindd = $leader, P, Toggle pseudo mode (dwindle layout), pseudo,
bindd = $leader, J, Toggle split mode (dwindle layout), togglesplit,
bindd = $leader, F, Toggle fullscreen, fullscreen
bindd = $leader, W, Restart Waybar, exec, killall swaync swaync-client waybar; swaync & waybar &
bindd = $leader+SHIFT, W, Restart Waybar via Github Build, exec, killall swaync swaync-client waybar; swaync & ~/clones/Waybar/build/waybar -c ~/.config/waybar/config.jsonc -s ~/.config/waybar/style.css &
bindd = $leader+CTRL, R, Reload HyprLand, exec, hyprtctl reload
bindd = $leader+SHIFT, V, Clipboard History, exec, bash -c "cliphist list | rofi -i -dmenu -p 'Search clipboard history...' | cliphist decode | wl-copy"

# Application Shortcuts
bindd = $leader, SPACE, Open application launcher, exec, $menu -i -show drun
bindd = $leader+SHIFT, SPACE, Run a script in PATH, exec, $menu -i -show run
bindd = $leader+CTRL, SPACE, Open window selector, exec, $menu -i -show window
bindd = $leader+CTRL+SHIFT, SPACE, Open window selector, exec, $menu -i -show ssh
bindd = $leader+SHIFT, F, Fuzzy File Search, exec, '$scripts/fuzzy_search.sh'
bindd = $leader, RETURN, Open terminal, exec, $terminal
bindd = $leader+SHIFT, RETURN, Toggle dropdown terminal, exec, bash -c 'pgrep -fx "$terminal --class float" && pkill -9 -fx "$terminal --class float" || $terminal --class float'
bindd = $leader, D, Launch aria2tui, exec, $terminal -e aria2tui
bindd = $leader+SHIFT, D, Launch display manager, exec, $display
bindd = $leader, E, Open file manager, exec, $fileManager
bindd = $leader, B, Launch Firefox, exec, firefox
bindd = $leader, M, Launch BetterBird, exec, flatpak run eu.betterbird.Betterbird
bindd = $leader, X, Launch calculator, exec, qalculate-gtk
bindd = $leader, ESCAPE, Open Sway Notification Center, exec, swaync-client -t -sw
bindd = CONTROL+SHIFT, ESCAPE, Open task manager, exec, $terminal -e btop
bindd = $leader+CONTROL+SHIFT, L, Lock screen, exec, swaylock
bindd = $leader, N, Edit text with NeoVim, exec, ~/clones/nvim-wl-anywhere/nvim-wl-anywhere.sh
bindd = $leader+SHIFT, N, Open NeoVim, exec, $terminal -e nvim
bindd = $leader+CONTROL+SHIFT, N, Open Kate text editor, exec, kate
bindd = $leader, Y, Open Yazi, exec, $terminal -e yazi
bindd = $leader, O, Open Apps in Workspaces, exec, ~/.config/hypr/lua/auto-launch-apps.lua

# Focus Movement
binddu = $leader, Left, Move focus left, movefocus, l
binddu = $leader, Right, Move focus right, movefocus, r
binddu = $leader, Up, Move focus up, movefocus, u
binddu = $leader, Down, Move focus down, movefocus, d
binddu = $leader, H, Move focus left (vim-style), movefocus, l
binddu = $leader, L, Move focus right (vim-style), movefocus, r
binddu = $leader, K, Move focus up (vim-style), movefocus, u
binddu = $leader, J, Move focus down (vim-style), movefocus, d
bindd = $leader, TAB, Go to last active workspace, workspace, previous

# Monitor Navigation
bindd = $leader+CTRL, 1, Move to monitor 1, focusmonitor, 0
bindd = $leader+CTRL, 2, Move to monitor 2, focusmonitor, 1
bindd = $leader+CTRL, 3, Move to monitor 3, focusmonitor, 2
bindd = $leader+CTRL, 4, Move to monitor 4, focusmonitor, 3

# Move Windows to Monitors
bindd = $leader+CTRL+SHIFT, 1, Move window to monitor 1, movewindow, mon:0
bindd = $leader+CTRL+SHIFT, 2, Move window to monitor 2, movewindow, mon:1
bindd = $leader+CTRL+SHIFT, 3, Move window to monitor 3, movewindow, mon:2
bindd = $leader+CTRL+SHIFT, 4, Move window to monitor 4, movewindow, mon:3

# Move Windows
bindd = $leader+SHIFT, Left, Move window left, movewindow, l
bindd = $leader+SHIFT, Right, Move window right, movewindow, r
bindd = $leader+SHIFT, Up, Move window up, movewindow, u
bindd = $leader+SHIFT, Down, Move window down, movewindow, d
binddu = $leader+SHIFT, H, Move window left (vim-style), movewindow, l
binddu = $leader+SHIFT, L, Move window right (vim-style), movewindow, r
binddu = $leader+SHIFT, K, Move window up (vim-style), movewindow, u
binddu = $leader+SHIFT, J, Move window down (vim-style), movewindow, d

# Workspace Navigation
bindd = $leader+CTRL, C, Create new workspace on this monitor, workspace, empty
# bindd = $leader, 1, Switch to workspace 1, workspace, 1
# bindd = $leader, 2, Switch to workspace 2, workspace, 2
# bindd = $leader, 3, Switch to workspace 3, workspace, 3
# bindd = $leader, 4, Switch to workspace 4, workspace, 4
# bindd = $leader, 5, Switch to workspace 5, workspace, 5
# bindd = $leader, 6, Switch to workspace 6, workspace, 6
# bindd = $leader, 7, Switch to workspace 7, workspace, 7
# bindd = $leader, 8, Switch to workspace 8, workspace, 8
# bindd = $leader, 9, Switch to workspace 9, workspace, 9
# bindd = $leader, 0, Switch to workspace 10, workspace, 10

# Move Windows to Workspaces
# bindd = $leader+SHIFT, 1, Move window to workspace 1, movetoworkspace, 1
# bindd = $leader+SHIFT, 2, Move window to workspace 2, movetoworkspace, 2
# bindd = $leader+SHIFT, 3, Move window to workspace 3, movetoworkspace, 3
# bindd = $leader+SHIFT, 4, Move window to workspace 4, movetoworkspace, 4
# bindd = $leader+SHIFT, 5, Move window to workspace 5, movetoworkspace, 5
# bindd = $leader+SHIFT, 6, Move window to workspace 6, movetoworkspace, 6
# bindd = $leader+SHIFT, 7, Move window to workspace 7, movetoworkspace, 7
# bindd = $leader+SHIFT, 8, Move window to workspace 8, movetoworkspace, 8
# bindd = $leader+SHIFT, 9, Move window to workspace 9, movetoworkspace, 9
# bindd = $leader+SHIFT, 0, Move window to workspace 10, movetoworkspace, 10

# Screenshots
bindd = $leader, I, Open print options, exec, ~/.config/hypr/scripts/screenshot.sh
bindd = , Print, Open print options, exec, ~/.config/hypr/scripts/screenshot.sh
bindd = $leader+SHIFT, I, Select and print a region, exec, ~/.config/hypr/scripts/screenshot.sh --freeze
bindd = $leader+ALT, I, Select and record a region, exec, ~/.config/hypr/scripts/screenshot.sh --record-region
bindd = $leader+CONTROL, I, Select and print a window, exec, ~/.config/hypr/scripts/screenshot.sh --window
bindd = $leader, P, Pick color from screen, exec, ~/.config/hypr/scripts/screenshot.sh --pixel

# Speech to text
bindd = $leader, Period, Toggle speech to text, exec, ~/.config/hypr/scripts/toggle-dictation.sh # TODO: fix this, it isn't working

# Scratchpad
binddu = $leader, S, Toggle scratchpad, togglespecialworkspace, magic
binddu = $leader+SHIFT, S, Move window to scratchpad, movetoworkspace, special:magic

# Scroll Through Workspaces
bindd = $leader, mouse_down, Switch to next workspace, workspace, e+1
bindd = $leader, mouse_up, Switch to previous workspace, workspace, e-1

# Move/Resize Windows with Mouse
binddm = $leader, mouse:272, Drag to move window, movewindow
binddm = $leader, mouse:273, Drag to resize window, resizewindow

# Volume and Brightness
binddelu = ,XF86AudioRaiseVolume, Increase volume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
binddelu = ,XF86AudioLowerVolume, Decrease volume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
binddelu = ,XF86AudioMute, Toggle mute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
binddelu = ,XF86AudioMicMute, Toggle mic mute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
binddelu = ,XF86MonBrightnessUp, Increase brightness, exec, brightnessctl s 10%+
binddelu = ,XF86MonBrightnessDown, Decrease brightness, exec, brightnessctl s 10%-

# Media Controls
binddu = $leader+ALT, H, Previous track, exec, playerctl previous
binddu = $leader+ALT, L, Next track, exec, playerctl next
binddu = $leader+ALT, SPACE, Play/Pause media, exec, playerctl play-pause

# Media Keys (Requires playerctl)
binddlu = , XF86AudioNext, Next track, exec, playerctl next
binddlu = , XF86AudioPause, Play/Pause media, exec, playerctl play-pause
binddlu = , XF86AudioPlay, Play/Pause media, exec, playerctl play-pause
binddlu = , XF86AudioPrev, Previous track, exec, playerctl previous

# Monitor Controls
bind = $leader, Z, exec, ~/.config/hypr/monitors/toggle-monitor-layout.sh

# Cursor submap (similar to the Mouse mode in Sway)
bind=$leader, G, exec, hyprctl keyword cursor:inactive_timeout 0; hyprctl keyword cursor:hide_on_key_press false; hyprctl dispatch submap Cursor
submap=Cursor

# Jump cursor to a position
bindd= , A, Floating Cursor Click, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=floating,click -o mode_floating.source=detect && hyprctl dispatch submap Cursor
bindd= SHIFT, A, Tiling Cursor Click, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=tile,click && hyprctl dispatch submap Cursor
bindd= , Q, Floating Cursor Move, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=floating -o mode_floating.source=detect && hyprctl dispatch submap Cursor
bindd= SHIFT, Q, Tiling Cursor Move, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=tile && hyprctl dispatch submap Cursor

# Cursor movement
bindde = , H, Cursor Left, exec, wlrctl pointer move -10 0
binde = , J, exec, wlrctl pointer move 0 10
binde = , K, exec, wlrctl pointer move 0 -10
binde = , L, exec, wlrctl pointer move 10 0
binde = SHIFT, H, exec, wlrctl pointer move -100 0
binde = SHIFT, J, exec, wlrctl pointer move 0 100
binde = SHIFT, K, exec, wlrctl pointer move 0 -100
binde = SHIFT, L, exec, wlrctl pointer move 100 0

# Mouse clicks
bindd = , S, Left Click, exec, wlrctl pointer click left
bindd = , SPACE, Left Click, exec, wlrctl pointer click left
bindd = , D, Middle Click, exec, wlrctl pointer click middle
bindd = , F, Right Click, exec, wlrctl pointer click right

# Scrolling
bindde = , E, Scroll Up, exec, wlrctl pointer scroll 10 0
bindde = , R, Scroll Down, exec, wlrctl pointer scroll -10 0
bindde = , T, Scroll Left, exec, wlrctl pointer scroll 0 -10
bindde = , G, Scroll Right, exec, wlrctl pointer scroll 0 10

# Arrow keys
bindd = CTRL, H, Arrow Left, sendshortcut, , H, activewindow
bindd = CTRL, J, Arrow Down, sendshortcut, , J, activewindow
bindd = CTRL, K, Arrow Up, sendshortcut, ,  K, activewindow
bindd = CTRL, L, Arrow Right, sendshortcut, , L, activewindow

# Optional: PageUp/PageDown (often more “scroll-like” than arrows)
bindd = CTRL, U, Page Up,   sendshortcut, , prior
bindd = CTRL, D, Page Down, sendshortcut, , next

# Exit cursor submap
bind = , escape, exec, hyprctl keyword cursor:inactive_timeout 3; hyprctl keyword cursor:hide_on_key_press true; hyprctl dispatch submap reset
submap = reset

# Resize submap
bind = $leader, R, submap, Resize
submap = Resize

# Set repeatable binds for resizing the active window.
binde = , H, resizeactive, -10 0
binde = , J, resizeactive, 0 10
binde = , K, resizeactive, 0 -10
binde = , L, resizeactive, 10 0

binde = SHIFT, H, resizeactive, -40 0
binde = SHIFT, J, resizeactive, 0 40
binde = SHIFT, K, resizeactive, 0 -40
binde = SHIFT, L, resizeactive, 40 0

# Use `reset` to go back to the global submap
bind = , escape, submap, reset
submap = reset

